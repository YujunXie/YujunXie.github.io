---
title: PHP对时间日期的处理
key: 20161201
tags: PHP
---

在使用PHP进行与后台数据库的交互时，我们通常需要将前端输入的时间或者是当前时间存入数据库，或者将数据库的时间段取出处理，输出到前端。

网上的资料眼花缭乱，每次处理时间时都要去重新搜索，其实我们只需掌握下面这几个常用的函数。

 1. time()
 2. strtotime()
 3. mktime()
 4. date()

<!--more-->

首先来明确一下格式化日期与时间戳的区别：

 - 格式化日期(字符串)：如Y-m-d H:i:s

~~~
a:   "am"或是"pm"  
A:   "AM"或是"PM" 
d:   几日，两位数字，若不足则补零；从"01"至"31"  
D:   星期几，3个英文字母，如:"Fri"  
F:   月份，英文全名，如:"January"  
h:   12小时制的小时，从"01"至"12"  
H:   4小时制的小时，从"00"至"23"  
g:   12小时制的小时，不补零；从"1"至"12"  
G:   24小时制的小时，不补零；从"0"至"23"  
j:   几日，不足不被零；从"1"至"31"  
l:   星期几，英文全名，如："Friday"  
m:   月份，两位数字，从"01"至"12"  
n:   月份，两位数字，不补零；从"1"至"12"  
M:   月份，3个英文字母；如："Jan"  
s:   秒；从"00"至"59"  
S:   字尾加英文序数，两个英文字母,如："21th" 
t:   指定月份的天数，从"28"至"31"  
U:   总秒数  
w:   数字型的星期几，从"0(星期天)"至"6(星期六)" 
Y:   年，四位数字  
y:   年，两位数字  
z：  一年中的第几天；从"1"至"366"
~~~

 - 时间戳(timestamp)：返回自从 Unix 纪元（格林威治时间 1970 年 1 月 1 日 00:00:00）到当前时间的**秒数**。[不懂Unix纪元的请戳](http://developer.51cto.com/art/201508/488060.html)


1. time()获取当前**时间戳**

	当前时间：2017-03-02
	
	时间戳：1488414538

2. strtotime()用字符串创建**时间戳**

	它能将任何英文文本的日期时间描述解析为Unix时间戳。
	
	如'2016-08-08','tomorrow','last sunday','+2 months'等，但是记得检查你放入的字符串是否正确。

3. mktime(hour,minute,second,month,day,year) 根据设置的日期时间返回**时间戳**

4. date(format,timestamp)格式化(**服务器**)**日期时间**

	其中format是必需的。若timestamp省略，则默认为服务器当前时间戳。如
	
	~~~
	date('Y:m:d', time());
	date('Y-m-d h:i:sa', strtotime('today'));
	date('l jS \of F Y h:i:s A', mktime(9, 12, 31, 6, 10, 2015));
	~~~

然而当你获取的时间发现不对时，那就是时区设置问题啦。[戳我](http://blog.unvs.cn/archives/php-date-prc.html)

----------

[更多php函数的使用](http://www.w3school.com.cn/php/php_ref_date.asp)
